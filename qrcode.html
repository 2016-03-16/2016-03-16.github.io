<!--  -->



<script type="text/javascript" src="https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.bootcss.com/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>
<script type="text/javascript" src="/js/ll.lib.js"></script>



<body>
    <hr />
    <a href="/">/</a>
    <hr />
    <input type="text" id="input" value="" />
    <input type="button" value="update" onclick="onUpdate()" />
    <input type="button" value="copy" onclick="onCopy()" />
    <hr />
    <p id="output"></p>
    <hr />
    <div id="qrcode"></div>
    <hr />
</body>



<script>
    function onUpdate() {
        const value = document.getElementById("input").value
        console.log("qrcode:", value)
        setQrcode(value)
    }
    function onCopy() {
        const value = document.getElementById("input").value
        console.log("copy:", value)
        document.ll.copy(value)
    }
</script>
<script>
    function setQrcode(text) {
        document.getElementById("input").value = text
        document.getElementById("output").textContent = text
        jQuery('#qrcode').contents().remove()
        jQuery('#qrcode').qrcode({ text })
    }
    function getQrcode() {
        return location.ll.search("q") || location.origin
    }
</script>
<script>
    setQrcode(getQrcode())
</script>



<!--  -->
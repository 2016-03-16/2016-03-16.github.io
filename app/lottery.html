<!--  -->



<script type="text/javascript" src="https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>



<div id="url">
    <a href="/app/lottery.html?game=dlt">dlt</a>
    <br>
    <a href="/app/lottery.html?game=ssq">ssq</a>
</div>
<p id="show"></p>



<script>
    function search(key) {
        const search = location.search
        const dict = {}
        const index = search.indexOf("?") + 1
        const array = search.substring(index).split("&")
        array.forEach(item => {
            const [key, ...value] = item.split("=")
            dict[key] = value.length ? value.join("=") : true
        })
        return dict[key]
    }
    function copy(text) {
        const ele = document.createElement("textarea")
        ele.innerText = text
        document.body.append(ele)
        ele.select()
        document.execCommand("copy")
        ele.remove()
    }
</script>
<script>
    function show(text) {
        jQuery("#show").text(text)
    }
</script>

<script>
    const CONF = {
        "ssq": [33, 33, 33, 33, 33, 33, 16],
        "dlt": [35, 35, 35, 35, 35, 12, 12],
    }
    const game = getGame()
    const conf = CONF[game]
    //
    function getGame() {
        const game = search("game")
        const keys = Object.keys(CONF)
        return keys.includes(game) ? game : keys[0]
    }
    //
    function getKey() {
        const date = new Date
        const y = date.getFullYear()
        const m = date.getMonth() + 1
        const d = date.getDate()
        return `${y}-${m}-${d}`
    }
    function getValue() {
        const key = getKey()
        return localStorage.getItem(`-_-/${game}/${key}`)
    }
    function setValue() {
        const key = getKey()
        const value = newValue()
        localStorage.setItem(`-_-/${game}/${key}`, value)
        return value
    }
    function randomOne(v, i, arr) {
        const max = conf[i] - 1
        arr[i] = (1 + Math.random() * max | 0).toString().padStart(2, "0")
        arr.indexOf(arr[i]) === i || randomOne(v, i, arr)
    }
    function newValue() {
        const list = Array.from(conf)
        list.forEach(randomOne)
        //
        const index = conf.lastIndexOf(conf[0]) + 1
        const head = list.slice(0, index)
        const tail = list.slice(index)
        //
        return `${head.sort().join(" ")}-${tail.sort().join(" ")}`
    }
</script>

<script>
    if (search("game")) {
        const value = getValue() || setValue()
        //
        show(`${value}`)
        //
        jQuery("#url").hide()
    } else {
        jQuery("#show").hide()
    }
</script>



<!--  -->